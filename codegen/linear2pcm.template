{
  const int nch = $ch;
  samples_t src = samples;
  $type *dst = ($type *)rawdata;

  int r = set_rounding();  
  while (size--)
  {
$convert
    dst += nch;
  }
  restore_rounding(r);
}
